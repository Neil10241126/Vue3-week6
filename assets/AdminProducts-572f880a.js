import{_ as d,o as s,c as n,d as u,a as t,F as a,f as i,t as l,n as h}from"./index-7b0006d9.js";const{VITE_URL:c,VITE_PATH:p}={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"neil-api-test1",BASE_URL:"/Vue3-week6/",MODE:"production",DEV:!1,PROD:!0},_={data(){return{adminProducts:[]}},methods:{checkLogin(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=o,this.$http.post(`${c}/v2/api/user/check`).then(()=>{this.getAdminProducts()}).catch(()=>{this.$router.push("/login")})},getAdminProducts(){this.$http.get(`${c}/v2/api/${p}/products/all`).then(o=>{this.adminProducts=o.data.products,console.log("後台產品:",this.adminProducts)})}},mounted(){this.checkLogin()}},m={class:"table"},$=t("thead",null,[t("tr",null,[t("th",null,"分類"),t("th",null,"產品名稱"),t("th",null,"原價"),t("th",null,"售價"),t("th",null,"是否啟用")])],-1),g={key:1,class:"{'text-danger': !item.is_enabled}"};function k(o,P,f,x,r,E){return s(),n(a,null,[u(" 後台產品列表 "),t("table",m,[$,t("tbody",null,[(s(!0),n(a,null,i(r.adminProducts,e=>(s(),n("tr",{key:e.id},[t("td",null,l(e.category),1),t("td",null,l(e.title),1),t("td",null,l(e.origin_price),1),t("td",null,l(e.price),1),t("td",null,[e.is_enabled?(s(),n("span",{key:0,class:h({"text-success":e.is_enabled})},"啟用",2)):(s(),n("span",g,"未啟用"))])]))),128))])])],64)}const V=d(_,[["render",k]]);export{V as default};
